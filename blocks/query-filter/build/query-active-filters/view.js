import{getContext as e,store as t}from"@wordpress/interactivity";var r={438:e=>{e.exports=import("@wordpress/interactivity-router")}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return r[e](i,i.exports,a),i.exports}console.log("Query Active Filters store initialized");const{state:i,actions:o}=t("query-active-filters",{state:{get filters(){return e().filters||[]},get queryId(){return e().queryId||0}},actions:{*removeFilter(e){const t=e.target.dataset.filterParam,r=e.target.dataset.filterValue;if(!t)return;e.preventDefault();const s=new URL(window.location.href);if(r&&s.searchParams.has(t)){const e=s.searchParams.get(t).split(",").filter(e=>e!==r);e.length?s.searchParams.set(t,e.join(",")):s.searchParams.delete(t)}else s.searchParams.delete(t);const{actions:i}=yield Promise.resolve().then(a.bind(a,438));yield i.navigate(s.toString())}},callbacks:{init(){new MutationObserver(()=>{const e=window.location.href;e!==i.lastUrl&&(i.lastUrl=e,effects.updateFiltersState())}).observe(document.documentElement,{childList:!0,subtree:!0})}}});