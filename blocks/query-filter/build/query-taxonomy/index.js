(()=>{"use strict";var e,l={265:()=>{const e=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.components,t=window.wp.data,n=window.ReactJSXRuntime,i=JSON.parse('{"UU":"gregius/query-taxonomy"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{taxonomy:s,emptyLabel:a,label:c,showLabel:u,presentation:g}=e,b=(0,o.useBlockProps)(),{taxonomies:p,isLoading:x}=(0,t.useSelect)(e=>{const l=e("core")?.getTaxonomies?.({per_page:100});if(!l)return{taxonomies:[],isLoading:!0};const o=l.filter(e=>e?.visibility?.publicly_queryable);return o?.length>0&&!s&&i({taxonomy:o[0].slug,label:o[0].name}),{taxonomies:o||[],isLoading:!1}},[s]),y=(0,t.useSelect)(e=>s&&e("core")?.getEntityRecords?.("taxonomy",s,{number:50})||[],[s]);return x?(0,n.jsx)("div",{...b,children:(0,n.jsx)(r.Spinner,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.InspectorControls,{children:(0,n.jsxs)(r.PanelBody,{title:(0,l.__)("Taxonomy Settings","gregius-query-filter"),children:[(0,n.jsx)(r.SelectControl,{label:(0,l.__)("Select Taxonomy","gregius-query-filter"),value:s,options:(p||[]).map(e=>({label:e.name,value:e.slug})),onChange:e=>{const l=p.find(l=>l.slug===e);i({taxonomy:e,label:l?.name||""})}}),(0,n.jsx)(r.TextControl,{label:(0,l.__)("Label","gregius-query-filter"),value:c,help:(0,l.__)("If empty then no label will be shown","gregius-query-filter"),onChange:e=>i({label:e})}),(0,n.jsx)(r.ToggleControl,{label:(0,l.__)("Show Label","gregius-query-filter"),checked:u,onChange:e=>i({showLabel:e})}),(0,n.jsx)(r.SelectControl,{label:(0,l.__)("Presentation","gregius-query-filter"),value:g,options:[{label:(0,l.__)("Dropdown","gregius-query-filter"),value:"select"},{label:(0,l.__)("Checkboxes","gregius-query-filter"),value:"checkbox"}],onChange:e=>i({presentation:e})}),"select"===g&&(0,n.jsx)(r.TextControl,{label:(0,l.__)("Empty Choice Label","gregius-query-filter"),value:a,placeholder:(0,l.__)("All","gregius-query-filter"),onChange:e=>i({emptyLabel:e})})]})}),(0,n.jsxs)("div",{...b,children:[u&&(0,n.jsx)("label",{className:"wp-block-query-filter-taxonomy__label wp-block-query-filter__label",children:c}),"select"===g?(0,n.jsxs)("select",{className:"wp-block-query-filter-taxonomy__select wp-block-query-filter__select",inert:!0,children:[(0,n.jsx)("option",{children:a||(0,l.__)("All","gregius-query-filter")}),(y||[]).map(e=>(0,n.jsx)("option",{children:e.name},e.slug))]}):(0,n.jsx)("div",{className:"wp-block-query-filter-taxonomy__checkboxes",children:(y||[]).map(e=>(0,n.jsxs)("div",{className:"wp-block-query-filter-taxonomy__checkbox-item",children:[(0,n.jsx)("input",{type:"checkbox",id:`tax-${e.slug}`,inert:!0}),(0,n.jsx)("label",{htmlFor:`tax-${e.slug}`,children:e.name})]},e.slug))})]})]})}})}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return l[e](n,n.exports,r),n.exports}r.m=l,e=[],r.O=(l,o,t,n)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,t,n]=e[u],s=!0,a=0;a<o.length;a++)(!1&n||i>=n)&&Object.keys(r.O).every(e=>r.O[e](o[a]))?o.splice(a--,1):(s=!1,n<i&&(i=n));if(s){e.splice(u--,1);var c=t();void 0!==c&&(l=c)}}return l}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,t,n]},r.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={330:0,406:0};r.O.j=l=>0===e[l];var l=(l,o)=>{var t,n,[i,s,a]=o,c=0;if(i.some(l=>0!==e[l])){for(t in s)r.o(s,t)&&(r.m[t]=s[t]);if(a)var u=a(r)}for(l&&l(o);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},o=globalThis.webpackChunkquery_loop_filter=globalThis.webpackChunkquery_loop_filter||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var t=r.O(void 0,[406],()=>r(265));t=r.O(t)})();