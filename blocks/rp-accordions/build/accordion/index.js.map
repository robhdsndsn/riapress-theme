{"version":3,"file":"accordion/index.js","mappings":"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","sources":["webpack://zp-accordions/./src/accordion/edit.js","webpack://zp-accordions/./src/accordion/save.js","webpack://zp-accordions/external window [\"wp\",\"blockEditor\"]","webpack://zp-accordions/external window [\"wp\",\"blocks\"]","webpack://zp-accordions/external window [\"wp\",\"element\"]","webpack://zp-accordions/external window [\"wp\",\"i18n\"]","webpack://zp-accordions/external window \"ReactJSXRuntime\"","webpack://zp-accordions/webpack/bootstrap","webpack://zp-accordions/webpack/runtime/compat get default export","webpack://zp-accordions/webpack/runtime/define property getters","webpack://zp-accordions/webpack/runtime/hasOwnProperty shorthand","webpack://zp-accordions/webpack/runtime/make namespace object","webpack://zp-accordions/./src/accordion/index.js"],"sourcesContent":["import { _x } from \"@wordpress/i18n\";\nimport { useEffect, useState } from \"@wordpress/element\";\nimport { useBlockProps, InnerBlocks, RichText } from \"@wordpress/block-editor\";\n\nexport default function Edit({ attributes, setAttributes, context, clientId }) {\n\tconst { intro, headingLevel, fontSize, ariaControls, ariaLabelledby } = attributes;\n\n\t// Use parent's heading level from context if available, fallback to local attr or 3\n\tconst headingLevelTagName = `h${context['zp/accordions/headingLevel'] || headingLevel || 3}`;\n\n\t// open all accordions by default from parent context\n\tconst openAllByDefault = context['zp/accordions/openAllByDefault'];\n\tconst [isActive, setIsActive] = useState(!!openAllByDefault);\n\n\tconst blockProps = useBlockProps();\n\n\t// Apply font size coming from parent context\n\tuseEffect(() => {\n\t\tconst contextFontSize = context['zp/accordions/fontSize'];\n\t\tif (contextFontSize !== undefined) {\n\t\t\tsetAttributes({ fontSize: contextFontSize });\n\t\t}\n\t}, [context['zp/accordions/fontSize'], setAttributes]);\n\n\t// Update local headingLevel attribute when parent context changes\n\tuseEffect(() => {\n\t\tif (context['zp/accordions/headingLevel']) {\n\t\t\tsetAttributes({ headingLevel: context['zp/accordions/headingLevel'] });\n\t\t}\n\t}, [context['zp/accordions/headingLevel'], setAttributes]);\n\n\t// Keep isActive synced to parent's openAllByDefault unless user toggles manually\n\tuseEffect(() => {\n\t\tsetIsActive(!!openAllByDefault);\n\t}, [openAllByDefault]);\n\n\t// Generate aria IDs if not present\n\tuseEffect(() => {\n\t\tif (!ariaControls) {\n\t\t\tsetAttributes({ ariaControls: `zp-accordion-aria-controls-${clientId}` });\n\t\t}\n\t}, [ariaControls, setAttributes, clientId]);\n\n\tuseEffect(() => {\n\t\tif (!ariaLabelledby) {\n\t\t\tsetAttributes({ ariaLabelledby: `zp-accordion-aria-labelledby-${clientId}` });\n\t\t}\n\t}, [ariaLabelledby, setAttributes, clientId]);\n\n\tconst toggleAccordion = () => setIsActive(!isActive);\n\n\t// Use fontSize from attributes (which gets updated from parent context)\n\tconst fontSizeStyle = fontSize ? { fontSize: fontSize } : undefined;\n\n\treturn (\n\t\t<div {...useBlockProps()}>\n\t\t\t<div className={`accordion`}>\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={isActive}\n\t\t\t\t\tid={ariaLabelledby}\n\t\t\t\t\taria-controls={ariaControls}\n\t\t\t\t\tclassName={`accordion-toggle ${isActive ? \"is-active\" : \"\"}`}\n\t\t\t\t\tstyle={fontSizeStyle}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"accordion-icon\" onClick={toggleAccordion} />\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tplaceholder={_x(\n\t\t\t\t\t\t\t\"Enter accordion intro hereâ€¦\",\n\t\t\t\t\t\t\t\"Block accordions - RichText\",\n\t\t\t\t\t\t\t\"accordions\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tclassName={`accordion-intro`}\n\t\t\t\t\t\ttagName={headingLevelTagName}\n\t\t\t\t\t\tallowedFormats={[\"core/bold\", \"core/italic\"]}\n\t\t\t\t\t\tonChange={(value) => setAttributes({ intro: value })}\n\t\t\t\t\t\tvalue={intro}\n\t\t\t\t\t\tstyle={fontSizeStyle}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\n\t\t\t\t{intro && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`accordion-content ${isActive ? \"is-active\" : \"\"}`}\n\t\t\t\t\t\tid={ariaControls}\n\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\taria-labelledby={ariaLabelledby}\n\t\t\t\t\t>\n\t\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\t\tallowedBlocks={[\n\t\t\t\t\t\t\t\t\"core/buttons\",\n\t\t\t\t\t\t\t\t\"core/columns\",\n\t\t\t\t\t\t\t\t\"core/embed\",\n\t\t\t\t\t\t\t\t\"core/group\",\n\t\t\t\t\t\t\t\t\"core/heading\",\n\t\t\t\t\t\t\t\t\"core/html\",\n\t\t\t\t\t\t\t\t\"core/image\",\n\t\t\t\t\t\t\t\t\"core/list\",\n\t\t\t\t\t\t\t\t\"core/paragraph\",\n\t\t\t\t\t\t\t\t\"core/table\",\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { __ } from '@wordpress/i18n';\nimport { useBlockProps, InnerBlocks, RichText } from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst { intro, headingLevel } = attributes;\n\tconst headingLevelTagName = `h${headingLevel}`;\n\n\t// Return null so the block is rendered server-side via render.php\n\treturn <InnerBlocks.Content />;\n}\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport { _x } from '@wordpress/i18n';\nimport Edit from './edit';\nimport Save from './save';\nimport metadata from \"./block.json\";\n\nregisterBlockType( metadata.name, {\n\tedit: Edit,\n\tsave: Save,\n} );\n"],"names":["_x","useEffect","useState","useBlockProps","InnerBlocks","RichText","jsx","_jsx","jsxs","_jsxs","Edit","attributes","setAttributes","context","clientId","intro","headingLevel","fontSize","ariaControls","ariaLabelledby","headingLevelTagName","openAllByDefault","isActive","setIsActive","blockProps","contextFontSize","undefined","toggleAccordion","fontSizeStyle","children","className","id","style","onClick","placeholder","tagName","allowedFormats","onChange","value","role","allowedBlocks","orientation","__","save","Content","registerBlockType","Save","metadata","name","edit"],"sourceRoot":""}