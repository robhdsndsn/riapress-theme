!function(){"use strict";function e(){document.querySelectorAll(".wp-block-ria-accordion").forEach(e=>{const o=JSON.parse(e.dataset.accordionConfig||"{}"),n=e.querySelectorAll(".accordion-item");0!==n.length?(n.forEach((e,c)=>{!function(e,o,n,c){const i=e.querySelector(".accordion-item-title"),r=e.querySelector(".accordion-item-content"),a=r.querySelector(".accordion-content-inner");if(!i||!r||!a)return void console.warn("RIA Accordion: Missing required elements",e);const s=c.animationSpeed||300,l=!1!==c.smooth,d=(c.allowMultipleOpen,parseInt(c.defaultOpen)||-1);"true"===e.dataset.isOpen||o===d?(e.classList.add("is-open"),r.style.maxHeight=a.scrollHeight+"px",i.setAttribute("aria-expanded","true"),r.setAttribute("aria-hidden","false")):(r.style.maxHeight="0px",i.setAttribute("aria-expanded","false"),r.setAttribute("aria-hidden","true")),l&&(r.style.transition=`max-height ${s}ms ease-in-out`),i.addEventListener("click",o=>{o.preventDefault(),t(e,i,r,a,n,c)}),i.addEventListener("keydown",s=>{!function(e,o,n,c,i,r,a,s){switch(e.key){case"Enter":case" ":e.preventDefault(),t(o,n,c,i,r,a);break;case"ArrowDown":e.preventDefault(),function(e,t){const o=t+1;if(o<e.length){const t=e[o].querySelector(".accordion-item-title");t&&t.focus()}}(r,s);break;case"ArrowUp":e.preventDefault(),function(e,t){const o=t-1;if(o>=0){const t=e[o].querySelector(".accordion-item-title");t&&t.focus()}}(r,s);break;case"Home":e.preventDefault(),function(e){if(e.length>0){const t=e[0].querySelector(".accordion-item-title");t&&t.focus()}}(r);break;case"End":e.preventDefault(),function(e){if(e.length>0){const t=e[e.length-1].querySelector(".accordion-item-title");t&&t.focus()}}(r)}}(s,e,i,r,a,n,c,o)});new ResizeObserver(()=>{e.classList.contains("is-open")&&(r.style.maxHeight=a.scrollHeight+"px")}).observe(a),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(r.style.transition="none")}(e,c,n,o)}),function(e,t){e.dataset.animation&&"none"!==e.dataset.animation&&t.forEach((t,o)=>{const n=(parseInt(e.dataset.animationDelay)||0)+(parseInt(t.dataset.animationDelay)||0);n>0&&(t.style.animationDelay=`${n}ms`)})}(e,n)):console.warn("RIA Accordion: No items found",e)})}function t(e,t,i,r,a,s){const l=e.classList.contains("is-open");!0===s.allowMultipleOpen||l||c(a),l?n(e,t,i):o(e,t,i,r);const d=l?"riaAccordionClose":"riaAccordionOpen";e.dispatchEvent(new CustomEvent(d,{bubbles:!0,detail:{item:e,title:t,content:i}}))}function o(e,t,o,n){e.classList.add("is-open"),t.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false");const c=n.scrollHeight;o.style.maxHeight=c+"px",t.focus()}function n(e,t,o){e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true"),o.style.maxHeight="0px",t.focus()}function c(e){e.forEach(e=>{const t=e.querySelector(".accordion-item-title"),o=e.querySelector(".accordion-item-content");e.classList.contains("is-open")&&n(e,t,o)})}window.RIAAccordion={open:function(e,t){const n="string"==typeof e?document.querySelector(e):e;if(!n||!n.classList.contains("wp-block-ria-accordion"))return void console.warn("RIA Accordion: Invalid block element",e);const c=n.querySelectorAll(".accordion-item");if(t<0||t>=c.length)return void console.warn("RIA Accordion: Invalid item index",t);const i=c[t],r=i.querySelector(".accordion-item-title"),a=i.querySelector(".accordion-item-content"),s=a.querySelector(".accordion-content-inner");i.classList.contains("is-open")||o(i,r,a,s)},close:function(e,t){const o="string"==typeof e?document.querySelector(e):e;if(!o||!o.classList.contains("wp-block-ria-accordion"))return void console.warn("RIA Accordion: Invalid block element",e);const c=o.querySelectorAll(".accordion-item");if(t<0||t>=c.length)return void console.warn("RIA Accordion: Invalid item index",t);const i=c[t],r=i.querySelector(".accordion-item-title"),a=i.querySelector(".accordion-item-content");i.classList.contains("is-open")&&n(i,r,a)},toggle:function(e,o){const n="string"==typeof e?document.querySelector(e):e;if(!n||!n.classList.contains("wp-block-ria-accordion"))return void console.warn("RIA Accordion: Invalid block element",e);const c=n.querySelectorAll(".accordion-item");if(o<0||o>=c.length)return void console.warn("RIA Accordion: Invalid item index",o);const i=c[o],r=i.querySelector(".accordion-item-title"),a=i.querySelector(".accordion-item-content"),s=a.querySelector(".accordion-content-inner");t(i,r,a,s,c,JSON.parse(n.dataset.accordionConfig||"{}"))},openAll:function(e){const t="string"==typeof e?document.querySelector(e):e;t&&t.classList.contains("wp-block-ria-accordion")?JSON.parse(t.dataset.accordionConfig||"{}").allowMultipleOpen?t.querySelectorAll(".accordion-item").forEach(e=>{const t=e.querySelector(".accordion-item-title"),n=e.querySelector(".accordion-item-content"),c=n.querySelector(".accordion-content-inner");e.classList.contains("is-open")||o(e,t,n,c)}):console.warn("RIA Accordion: Cannot open all items in accordion mode"):console.warn("RIA Accordion: Invalid block element",e)},closeAll:function(e){const t="string"==typeof e?document.querySelector(e):e;t&&t.classList.contains("wp-block-ria-accordion")?c(t.querySelectorAll(".accordion-item")):console.warn("RIA Accordion: Invalid block element",e)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.MutationObserver&&new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.length&&t.addedNodes.forEach(t=>{1===t.nodeType&&t.classList&&t.classList.contains("wp-block-ria-accordion")&&e()})})}).observe(document.body,{childList:!0,subtree:!0})}();