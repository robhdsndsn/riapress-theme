/**
 * RIA Toast - Frontend Styles
 * Based on shadcn/ui toast component
 */

// Toast Container - Fixed positioning
.ria-toast-container {
	position: fixed;
	z-index: 9999;
	display: flex;
	flex-direction: column;
	gap: 12px;
	max-width: 420px;
	pointer-events: none;

	// Positioning variants
	&.ria-toast-top-right {
		top: 24px;
		right: 24px;
	}

	&.ria-toast-top-left {
		top: 24px;
		left: 24px;
	}

	&.ria-toast-bottom-right {
		bottom: 24px;
		right: 24px;
	}

	&.ria-toast-bottom-left {
		bottom: 24px;
		left: 24px;
	}

	&.ria-toast-top-center {
		top: 24px;
		left: 50%;
		transform: translateX(-50%);
	}

	&.ria-toast-bottom-center {
		bottom: 24px;
		left: 50%;
		transform: translateX(-50%);
	}

	// Mobile adjustments
	@media (max-width: 640px) {
		&.ria-toast-top-right,
		&.ria-toast-top-left,
		&.ria-toast-top-center {
			top: 16px;
		}

		&.ria-toast-bottom-right,
		&.ria-toast-bottom-left,
		&.ria-toast-bottom-center {
			bottom: 16px;
		}

		&.ria-toast-top-right,
		&.ria-toast-bottom-right {
			right: 16px;
		}

		&.ria-toast-top-left,
		&.ria-toast-bottom-left {
			left: 16px;
		}

		max-width: calc(100vw - 32px);
	}
}

// Individual Toast
.ria-toast {
	position: relative;
	display: flex;
	align-items: flex-start;
	gap: 12px;
	width: 100%;
	padding: 16px;
	border-radius: 8px;
	border-width: 1px;
	border-style: solid;
	background-color: var(--wp--custom--colors--white);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	pointer-events: auto;
	overflow: hidden;

	// Hidden by default (for animation)
	opacity: 0;
	transform: translateX(100%);
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);

	// Show state
	&.ria-toast-show {
		opacity: 1;
		transform: translateX(0);
	}

	// Hide state
	&.ria-toast-hide {
		opacity: 0;
		transform: translateX(100%);
	}

	// Adjust animation for left-side positions
	.ria-toast-top-left &,
	.ria-toast-bottom-left & {
		transform: translateX(-100%);

		&.ria-toast-show {
			transform: translateX(0);
		}

		&.ria-toast-hide {
			transform: translateX(-100%);
		}
	}

	// Adjust animation for center positions
	.ria-toast-top-center &,
	.ria-toast-bottom-center & {
		transform: translateY(-100%);

		&.ria-toast-show {
			transform: translateY(0);
		}

		&.ria-toast-hide {
			transform: translateY(-100%);
		}
	}
}

// Toast Icon
.ria-toast-icon {
	flex-shrink: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-top: 1px;

	svg {
		display: block;
	}
}

// Toast Content
.ria-toast-content {
	flex: 1;
	min-width: 0;
}

.ria-toast-title {
	font-size: 14px;
	font-weight: 600;
	line-height: 1.4;
	margin: 0 0 4px;
	color: var(--wp--custom--colors--neutral-900);
}

.ria-toast-description {
	font-size: 14px;
	line-height: 1.5;
	margin: 0;
	color: var(--wp--custom--colors--neutral-600);
}

// No title spacing adjustment
.ria-toast:not(:has(.ria-toast-title)) .ria-toast-description {
	margin-top: 0;
}

// Action Button
.ria-toast-action {
	flex-shrink: 0;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 6px 12px;
	font-size: 13px;
	font-weight: 500;
	line-height: 1;
	border-radius: 6px;
	border: 1px solid var(--wp--custom--colors--neutral-300);
	background-color: transparent;
	color: var(--wp--custom--colors--neutral-900);
	cursor: pointer;
	transition: all 0.2s ease;
	margin: 0 0 0 8px;

	&:hover {
		background-color: var(--wp--custom--colors--neutral-50);
		border-color: var(--wp--custom--colors--neutral-400);
	}

	&:focus {
		outline: 2px solid var(--wp--custom--colors--neutral-500);
		outline-offset: 2px;
	}
}

// Close Button
.ria-toast-close {
	flex-shrink: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	width: 20px;
	height: 20px;
	padding: 0;
	margin: 0;
	border: none;
	border-radius: 4px;
	background: transparent;
	color: var(--wp--custom--colors--neutral-600);
	cursor: pointer;
	transition: all 0.2s ease;
	opacity: 0.7;

	svg {
		display: block;
	}

	&:hover {
		opacity: 1;
		background-color: var(--wp--custom--colors--neutral-100);
		color: var(--wp--custom--colors--neutral-900);
	}

	&:focus {
		opacity: 1;
		outline: 2px solid var(--wp--custom--colors--neutral-500);
		outline-offset: 2px;
	}
}

// Variant: Default
.ria-toast-default {
	background-color: var(--wp--custom--colors--white);
	border-color: var(--wp--custom--colors--neutral-200);

	.ria-toast-icon {
		color: var(--wp--custom--colors--neutral-800);
	}
}

// Variant: Success
.ria-toast-success {
	background-color: var(--wp--custom--colors--secondary-50);
	border-color: var(--wp--custom--colors--secondary-200);

	.ria-toast-icon {
		color: var(--wp--custom--colors--secondary-600);
	}

	.ria-toast-title {
		color: var(--wp--custom--colors--secondary-900);
	}

	.ria-toast-description {
		color: var(--wp--custom--colors--secondary-700);
	}

	.ria-toast-close {
		color: var(--wp--custom--colors--secondary-600);

		&:hover {
			background-color: var(--wp--custom--colors--secondary-100);
			color: var(--wp--custom--colors--secondary-800);
		}
	}
}

// Variant: Error (Destructive)
.ria-toast-error {
	background-color: hsl(0, 84%, 96%);
	border-color: hsl(0, 84%, 85%);

	.ria-toast-icon {
		color: hsl(0, 70%, 50%);
	}

	.ria-toast-title {
		color: hsl(0, 70%, 20%);
	}

	.ria-toast-description {
		color: hsl(0, 70%, 35%);
	}

	.ria-toast-close {
		color: hsl(0, 70%, 45%);

		&:hover {
			background-color: hsl(0, 84%, 90%);
			color: hsl(0, 70%, 25%);
		}
	}
}

// Variant: Warning
.ria-toast-warning {
	background-color: var(--wp--custom--colors--tertiary-50);
	border-color: var(--wp--custom--colors--tertiary-200);

	.ria-toast-icon {
		color: var(--wp--custom--colors--tertiary-600);
	}

	.ria-toast-title {
		color: var(--wp--custom--colors--tertiary-900);
	}

	.ria-toast-description {
		color: var(--wp--custom--colors--tertiary-700);
	}

	.ria-toast-close {
		color: var(--wp--custom--colors--tertiary-600);

		&:hover {
			background-color: var(--wp--custom--colors--tertiary-100);
			color: var(--wp--custom--colors--tertiary-800);
		}
	}
}

// Variant: Info
.ria-toast-info {
	background-color: var(--wp--custom--colors--primary-50);
	border-color: var(--wp--custom--colors--primary-200);

	.ria-toast-icon {
		color: var(--wp--custom--colors--primary-600);
	}

	.ria-toast-title {
		color: var(--wp--custom--colors--primary-900);
	}

	.ria-toast-description {
		color: var(--wp--custom--colors--primary-700);
	}

	.ria-toast-close {
		color: var(--wp--custom--colors--primary-600);

		&:hover {
			background-color: var(--wp--custom--colors--primary-100);
			color: var(--wp--custom--colors--primary-800);
		}
	}
}

// Accessibility
@media (prefers-reduced-motion: reduce) {
	.ria-toast,
	.ria-toast * {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}


/* Color Variants */
.wp-block-ria-toast {
	/* Variant: Primary */
	&.has-primary-variant {
		background-color: var(--color-primary-100);
		color: var(--color-primary-900);
		border-color: var(--color-primary-300);

		a {
			color: var(--color-primary-700);
		}
	}

	/* Variant: Secondary */
	&.has-secondary-variant {
		background-color: var(--color-secondary-100);
		color: var(--color-secondary-900);
		border-color: var(--color-secondary-300);

		a {
			color: var(--color-secondary-700);
		}
	}

	/* Variant: Accent */
	&.has-accent-variant {
		background-color: var(--color-accent-100);
		color: var(--color-accent-900);
		border-color: var(--color-accent-300);

		a {
			color: var(--color-accent-700);
		}
	}

	/* Variant: Neutral */
	&.has-neutral-variant {
		background-color: var(--color-neutral-100);
		color: var(--color-neutral-900);
		border-color: var(--color-neutral-300);

		a {
			color: var(--color-neutral-700);
		}
	}

	/* Custom colors via inline styles */
	&.has-custom-colors {
		/* Inline styles will override */
	}
}
