(()=>{"use strict";var e,t={21:()=>{const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"ria/countdown","title":"RIA Countdown","category":"ria-blocks","icon":"clock","description":"Countdown timer to a specific date and time","keywords":["countdown","timer","event","deadline"],"supports":{"html":false,"align":["wide","full"],"spacing":{"margin":true,"padding":true}},"attributes":{"targetDate":{"type":"string","default":""},"numberColor":{"type":"string","default":"#1a1a1a"},"labelColor":{"type":"string","default":"#666666"},"numberSize":{"type":"number","default":48},"labelSize":{"type":"number","default":14},"backgroundColor":{"type":"string","default":"#f5f5f5"},"itemSpacing":{"type":"number","default":16},"showDays":{"type":"boolean","default":true},"showHours":{"type":"boolean","default":true},"showMinutes":{"type":"boolean","default":true},"showSeconds":{"type":"boolean","default":true},"expiredMessage":{"type":"string","default":"Event has ended"},"textAlign":{"type":"string","default":"center"}},"textdomain":"ria","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),a=window.React,n=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.components,l=window.wp.element;(0,e.registerBlockType)(t.name,{...t,edit:function({attributes:e,setAttributes:t}){const{targetDate:i,numberColor:s,labelColor:c,numberSize:d,labelSize:u,backgroundColor:m,itemSpacing:p,showDays:g,showHours:w,showMinutes:h,showSeconds:b,expiredMessage:y,textAlign:f}=e,[x,v]=(0,l.useState)({days:0,hours:0,minutes:0,seconds:0}),[E,C]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!i)return;const e=()=>{const e=(new Date).getTime(),t=new Date(i).getTime()-e;if(t<=0)return C(!0),void v({days:0,hours:0,minutes:0,seconds:0});C(!1);const a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3);v({days:a,hours:n,minutes:o,seconds:r})};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[i]);const _=(0,o.useBlockProps)({className:"ria-countdown",style:{textAlign:f}}),S={backgroundColor:m,padding:"16px",borderRadius:"8px",display:"inline-flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:"80px"},k={color:s,fontSize:`${d}px`,fontWeight:"700",lineHeight:"1",fontVariantNumeric:"tabular-nums"},N={color:c,fontSize:`${u}px`,fontWeight:"500",marginTop:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},D={display:"flex",gap:`${p}px`,justifyContent:"left"===f?"flex-start":"right"===f?"flex-end":"center",flexWrap:"wrap"};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(o.InspectorControls,null,(0,a.createElement)(r.PanelBody,{title:(0,n.__)("Countdown Settings","ria"),initialOpen:!0},(0,a.createElement)("div",{style:{marginBottom:"16px"}},(0,a.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,n.__)("Target Date & Time","ria")),(0,a.createElement)(r.DateTimePicker,{currentDate:i||new Date,onChange:e=>t({targetDate:e}),is12Hour:!0})),(0,a.createElement)(r.TextControl,{label:(0,n.__)("Expired Message","ria"),value:y,onChange:e=>t({expiredMessage:e}),help:(0,n.__)("Message to display when countdown reaches zero","ria")})),(0,a.createElement)(r.PanelBody,{title:(0,n.__)("Display Options","ria"),initialOpen:!1},(0,a.createElement)(r.ToggleControl,{label:(0,n.__)("Show Days","ria"),checked:g,onChange:e=>t({showDays:e})}),(0,a.createElement)(r.ToggleControl,{label:(0,n.__)("Show Hours","ria"),checked:w,onChange:e=>t({showHours:e})}),(0,a.createElement)(r.ToggleControl,{label:(0,n.__)("Show Minutes","ria"),checked:h,onChange:e=>t({showMinutes:e})}),(0,a.createElement)(r.ToggleControl,{label:(0,n.__)("Show Seconds","ria"),checked:b,onChange:e=>t({showSeconds:e})}),(0,a.createElement)(r.RangeControl,{label:(0,n.__)("Item Spacing (px)","ria"),value:p,onChange:e=>t({itemSpacing:e}),min:0,max:48})),(0,a.createElement)(r.PanelBody,{title:(0,n.__)("Styling","ria"),initialOpen:!1},(0,a.createElement)(r.RangeControl,{label:(0,n.__)("Number Size (px)","ria"),value:d,onChange:e=>t({numberSize:e}),min:24,max:96}),(0,a.createElement)(r.RangeControl,{label:(0,n.__)("Label Size (px)","ria"),value:u,onChange:e=>t({labelSize:e}),min:10,max:24}),(0,a.createElement)("p",null,(0,n.__)("Number Color","ria")),(0,a.createElement)(r.ColorPicker,{color:s,onChangeComplete:e=>t({numberColor:e.hex}),disableAlpha:!0}),(0,a.createElement)("p",null,(0,n.__)("Label Color","ria")),(0,a.createElement)(r.ColorPicker,{color:c,onChangeComplete:e=>t({labelColor:e.hex}),disableAlpha:!0}),(0,a.createElement)("p",null,(0,n.__)("Background Color","ria")),(0,a.createElement)(r.ColorPicker,{color:m,onChangeComplete:e=>t({backgroundColor:e.hex}),disableAlpha:!0}))),(0,a.createElement)("div",{..._},i?E?(0,a.createElement)("div",{className:"ria-countdown-expired",style:{fontSize:`${u+4}px`,color:c,fontWeight:"600"}},y):(0,a.createElement)("div",{style:D},g&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-days",style:S},(0,a.createElement)("div",{className:"ria-countdown-number",style:k},x.days),(0,a.createElement)("div",{className:"ria-countdown-label",style:N},(0,n.__)("Days","ria"))),w&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-hours",style:S},(0,a.createElement)("div",{className:"ria-countdown-number",style:k},x.hours),(0,a.createElement)("div",{className:"ria-countdown-label",style:N},(0,n.__)("Hours","ria"))),h&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-minutes",style:S},(0,a.createElement)("div",{className:"ria-countdown-number",style:k},x.minutes),(0,a.createElement)("div",{className:"ria-countdown-label",style:N},(0,n.__)("Minutes","ria"))),b&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-seconds",style:S},(0,a.createElement)("div",{className:"ria-countdown-number",style:k},x.seconds),(0,a.createElement)("div",{className:"ria-countdown-label",style:N},(0,n.__)("Seconds","ria")))):(0,a.createElement)("div",{style:{padding:"40px",textAlign:"center",backgroundColor:"#f5f5f5",borderRadius:"8px"}},(0,a.createElement)("p",{style:{margin:0,color:"#666"}},(0,n.__)("Select a target date and time in the sidebar to start the countdown.","ria")))))},save:function({attributes:e}){const{targetDate:t,numberColor:n,labelColor:r,numberSize:l,labelSize:i,backgroundColor:s,itemSpacing:c,showDays:d,showHours:u,showMinutes:m,showSeconds:p,expiredMessage:g,textAlign:w}=e;if(!t)return null;const h=(new Date).getTime(),b=new Date(t).getTime()-h;let y={days:0,hours:0,minutes:0,seconds:0},f=b<=0;f||(y={days:Math.floor(b/864e5),hours:Math.floor(b%864e5/36e5),minutes:Math.floor(b%36e5/6e4),seconds:Math.floor(b%6e4/1e3)});const x=o.useBlockProps.save({className:"ria-countdown","data-target-date":t,"data-expired-message":g,style:{textAlign:w}}),v={backgroundColor:s,padding:"16px",borderRadius:"8px"},E={color:n,fontSize:`${l}px`,fontWeight:"700"},C={color:r,fontSize:`${i}px`},_={display:"flex",gap:`${c}px`,justifyContent:"left"===w?"flex-start":"right"===w?"flex-end":"center",flexWrap:"wrap"};return f?(0,a.createElement)("div",{...x},(0,a.createElement)("div",{className:"ria-countdown-expired"},g)):(0,a.createElement)("div",{...x},(0,a.createElement)("div",{style:_},d&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-days",style:v},(0,a.createElement)("div",{className:"ria-countdown-number",style:E},y.days),(0,a.createElement)("div",{className:"ria-countdown-label",style:C},"Days")),u&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-hours",style:v},(0,a.createElement)("div",{className:"ria-countdown-number",style:E},y.hours),(0,a.createElement)("div",{className:"ria-countdown-label",style:C},"Hours")),m&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-minutes",style:v},(0,a.createElement)("div",{className:"ria-countdown-number",style:E},y.minutes),(0,a.createElement)("div",{className:"ria-countdown-label",style:C},"Minutes")),p&&(0,a.createElement)("div",{className:"ria-countdown-item ria-countdown-seconds",style:v},(0,a.createElement)("div",{className:"ria-countdown-number",style:E},y.seconds),(0,a.createElement)("div",{className:"ria-countdown-label",style:C},"Seconds"))))}})}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,o,r)=>{if(!a){var l=1/0;for(var d=0;d<e.length;d++){for(var[a,o,r]=e[d],i=!0,s=0;s<a.length;s++)(!1&r||l>=r)&&Object.keys(n.O).every(e=>n.O[e](a[s]))?a.splice(s--,1):(i=!1,r<l&&(l=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,[l,i,s]=a,c=0;if(l.some(t=>0!==e[t])){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var d=s(n)}for(t&&t(a);c<l.length;c++)r=l[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},a=globalThis.webpackChunkria_countdown=globalThis.webpackChunkria_countdown||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=n.O(void 0,[350],()=>n(21));o=n.O(o)})();