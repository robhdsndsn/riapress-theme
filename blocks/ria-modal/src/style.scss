/**
 * RIA Modal - Frontend Styles
 * Styles for the published website
 * Mobile-first responsive design
 */

.wp-block-ria-modal {
	// Alignment classes
	&.align-left {
		.modal-trigger-wrapper {
			text-align: left;
		}
	}

	&.align-center {
		.modal-trigger-wrapper {
			text-align: center;
		}
	}

	&.align-right {
		.modal-trigger-wrapper {
			text-align: right;
		}
	}

	// Trigger wrapper
	.modal-trigger-wrapper {
		margin-bottom: 0;
	}

	// Trigger button/link base styles
	.modal-trigger {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		padding: 0.75rem 1.5rem;
		font-size: 1rem;
		font-weight: 500;
		line-height: 1.5;
		text-decoration: none;
		border: none;
		border-radius: 4px;
		cursor: pointer;
		transition: all 0.2s ease;
		font-family: inherit;

		// Ensure no underline on links
		&:focus,
		&:hover {
			text-decoration: none;
			outline: 2px solid transparent;
			outline-offset: 2px;
		}

		// Focus visible for accessibility
		&:focus-visible {
			outline: 2px solid #3b82f6;
			outline-offset: 2px;
		}

		// Button style variants using unified color system
		&.style-primary {
			background-color: var(--wp--custom--colors--primary-400);
			color: var(--wp--custom--colors--white);

			&:hover {
				background-color: var(--wp--custom--colors--primary-300);
			}

			&:active {
				background-color: var(--wp--custom--colors--primary-500);
			}
		}

		&.style-secondary {
			background-color: var(--wp--custom--colors--secondary-400);
			color: var(--wp--custom--colors--white);

			&:hover {
				background-color: var(--wp--custom--colors--secondary-300);
			}

			&:active {
				background-color: var(--wp--custom--colors--secondary-500);
			}
		}

		&.style-tertiary {
			background-color: var(--wp--custom--colors--tertiary-400);
			color: var(--wp--custom--colors--white);

			&:hover {
				background-color: var(--wp--custom--colors--tertiary-300);
			}

			&:active {
				background-color: var(--wp--custom--colors--tertiary-500);
			}
		}

		&.style-outline-primary {
			background-color: transparent;
			border: 1px solid var(--wp--custom--colors--primary-400);
			color: var(--wp--custom--colors--primary-400);

			&:hover {
				background-color: var(--wp--custom--colors--primary-400);
				color: var(--wp--custom--colors--white);
			}

			&:active {
				background-color: var(--wp--custom--colors--primary-500);
				border-color: var(--wp--custom--colors--primary-500);
			}
		}

		&.style-outline-secondary {
			background-color: transparent;
			border: 1px solid var(--wp--custom--colors--secondary-400);
			color: var(--wp--custom--colors--secondary-400);

			&:hover {
				background-color: var(--wp--custom--colors--secondary-400);
				color: var(--wp--custom--colors--white);
			}

			&:active {
				background-color: var(--wp--custom--colors--secondary-500);
				border-color: var(--wp--custom--colors--secondary-500);
			}
		}

		&.style-outline-tertiary {
			background-color: transparent;
			border: 1px solid var(--wp--custom--colors--tertiary-400);
			color: var(--wp--custom--colors--tertiary-400);

			&:hover {
				background-color: var(--wp--custom--colors--tertiary-400);
				color: var(--wp--custom--colors--white);
			}

			&:active {
				background-color: var(--wp--custom--colors--tertiary-500);
				border-color: var(--wp--custom--colors--tertiary-500);
			}
		}

		&.style-ghost {
			background-color: transparent;
			color: var(--wp--custom--colors--neutral-600);

			&:hover {
				background-color: var(--wp--custom--colors--neutral-100);
			}

			&:active {
				background-color: var(--wp--custom--colors--neutral-200);
			}
		}

		&.style-link {
			background-color: transparent;
			border: none;
			color: var(--wp--custom--colors--primary-400);
			padding: 0;
			text-decoration: underline;

			&:hover {
				color: var(--wp--custom--colors--primary-300);
				text-decoration: none;
			}

			&:active {
				color: var(--wp--custom--colors--primary-500);
			}
		}

		// Button size variants
		&.size-small {
			padding: 0.5rem 1rem;
			font-size: 0.875rem;
		}

		&.size-medium {
			padding: 0.75rem 1.5rem;
			font-size: 1rem;
		}

		&.size-large {
			padding: 1rem 2rem;
			font-size: 1.125rem;
		}

		// Image trigger
		&.trigger-image {
			padding: 0;
			background: transparent;
			border: none;

			img {
				display: block;
				max-width: 100%;
				height: auto;
				border-radius: inherit;
			}
		}

		// Icon trigger
		&.trigger-icon {
			padding: 1rem;
			background: #f3f4f6;
			border-radius: 50%;

			&:hover {
				background: #e5e7eb;
			}

			.trigger-icon-large {
				font-size: 2rem;
				line-height: 1;
			}
		}

		// Icon positioning
		.trigger-icon {
			display: inline-flex;
			align-items: center;
			font-size: 1.25em;
			line-height: 1;

			&.icon-left {
				order: -1;
			}

			&.icon-right {
				order: 1;
			}
		}

		// Shadow utilities
		&.shadow-small {
			box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
		}

		&.shadow-medium {
			box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
		}

		&.shadow-large {
			box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
		}

		// Hover shadow transitions
		&.hover-shadow-small:hover {
			box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
		}

		&.hover-shadow-medium:hover {
			box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
		}

		&.hover-shadow-large:hover {
			box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
		}

		// Hover animations
		&.hover-lift:hover {
			transform: translateY(-2px);
		}

		&.hover-grow:hover {
			transform: scale(1.05);
		}

		&.hover-pulse:hover {
			animation: pulse 0.5s ease-in-out;
		}
	}

	// Modal overlay (initially hidden)
	.modal-overlay {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 9999;
		display: none;
		align-items: center;
		justify-content: center;
		padding: 1rem;
		background: rgba(0, 0, 0, 0.8);
		opacity: 0;
		transition: opacity 0.3s ease;

		// Active state (controlled by JavaScript)
		&.active {
			display: flex;
			opacity: 1;
		}

		// Mobile responsive padding
		@media (max-width: 480px) {
			padding: 0.5rem;
		}
	}

	// Modal content container
	.modal-content {
		position: relative;
		max-width: 90vw;
		max-height: 90vh;
		overflow: auto;
		background: white;
		border-radius: 8px;
		box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

		// Smooth scrolling
		-webkit-overflow-scrolling: touch;

		// Size variants
		&.size-small {
			width: 100%;
			max-width: 400px;
		}

		&.size-medium {
			width: 100%;
			max-width: 600px;
		}

		&.size-large {
			width: 100%;
			max-width: 800px;
		}

		&.size-xlarge {
			width: 100%;
			max-width: 1000px;
		}

		&.size-full {
			width: 95vw;
			max-width: 95vw;
			max-height: 95vh;
		}

		// Shadow variants
		&.shadow-none {
			box-shadow: none;
		}

		&.shadow-small {
			box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
		}

		&.shadow-medium {
			box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
		}

		&.shadow-large {
			box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
		}

		&.shadow-xlarge {
			box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
		}

		&.shadow-2xlarge {
			box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
		}

		// Mobile responsive sizing
		@media (max-width: 768px) {
			max-width: 95vw;

			&.size-full {
				width: 100vw;
				max-width: 100vw;
				max-height: 100vh;
				border-radius: 0;
			}
		}
	}

	// Close button
	.modal-close {
		position: absolute;
		top: 1rem;
		right: 1rem;
		z-index: 10;
		padding: 0.5rem;
		font-size: 1.5rem;
		line-height: 1;
		color: #6b7280;
		background: transparent;
		border: none;
		border-radius: 4px;
		cursor: pointer;
		transition: all 0.2s ease;

		&:hover {
			color: #1f2937;
			background: #f3f4f6;
		}

		&:focus-visible {
			outline: 2px solid #3b82f6;
			outline-offset: 2px;
		}

		span {
			display: block;
			width: 1.5rem;
			height: 1.5rem;
			line-height: 1.5rem;
			text-align: center;
		}

		// Style variants
		&.close-style-minimal {
			padding: 0.25rem;
			font-size: 1.25rem;
		}

		&.close-style-circle {
			padding: 0.5rem;
			background: #f3f4f6;
			border-radius: 50%;

			&:hover {
				background: #e5e7eb;
			}
		}
	}

	// Modal title
	.modal-title {
		margin: 0 0 1.5rem;
		padding: 1.5rem 3rem 0 1.5rem;
		font-size: 1.875rem;
		font-weight: 700;
		line-height: 1.2;
		color: #1f2937;

		@media (max-width: 480px) {
			padding-right: 2.5rem;
			font-size: 1.5rem;
		}
	}

	// Modal body
	.modal-body {
		padding: 0 1.5rem 1.5rem;

		// Content type specific styles
		.modal-custom-content {
			// InnerBlocks content
			> * {
				margin-bottom: 1rem;

				&:last-child {
					margin-bottom: 0;
				}
			}
		}

		.modal-video-content {
			position: relative;
			width: 100%;
			padding-bottom: 56.25%; // 16:9 aspect ratio
			height: 0;
			overflow: hidden;

			iframe {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				border: none;
			}
		}

		.modal-image-content {
			text-align: center;

			img {
				max-width: 100%;
				height: auto;
				border-radius: 4px;
			}
		}

		.modal-form-content {
			// Form plugin styles will apply here
		}

		@media (max-width: 480px) {
			padding: 0 1rem 1rem;
		}
	}
}

// Keyframe animations
@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fadeInDown {
	from {
		opacity: 0;
		transform: translateY(-30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideInUp {
	from {
		transform: translateY(100%);
	}
	to {
		transform: translateY(0);
	}
}

@keyframes zoomIn {
	from {
		opacity: 0;
		transform: scale(0.8);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes pulse {
	0%, 100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
}

// Accessibility: Respect reduced motion preferences
@media (prefers-reduced-motion: reduce) {
	.wp-block-ria-modal {
		.modal-trigger,
		.modal-content,
		.modal-overlay {
			animation: none !important;
			transition: none !important;
		}
	}
}

// Print styles
@media print {
	.wp-block-ria-modal {
		.modal-overlay {
			display: none !important;
		}
	}
}

// Variant Color System
.wp-block-ria-modal {
	// CSS Custom Properties
	--variant-bg: var(--wp--preset--color--background, #ffffff);
	--variant-border: var(--wp--preset--color--contrast, #000000);

	// Primary variant
	&.variant-primary {
		--variant-bg: var(--wp--preset--color--primary, #0073aa);
		--variant-border: var(--wp--preset--color--primary, #0073aa);
	}

	// Secondary variant
	&.variant-secondary {
		--variant-bg: var(--wp--preset--color--secondary, #005177);
		--variant-border: var(--wp--preset--color--secondary, #005177);
	}

	// Tertiary variant
	&.variant-tertiary {
		--variant-bg: var(--wp--preset--color--tertiary, #7c3aed);
		--variant-border: var(--wp--preset--color--tertiary, #7c3aed);
	}

	// Neutral variant (default)
	&.variant-neutral {
		--variant-bg: var(--wp--preset--color--base-2, #f9fafb);
		--variant-border: var(--wp--preset--color--contrast-2, #e5e7eb);
	}

	// Custom variant
	&.variant-custom {
		--variant-bg: var(--custom-bg-color, transparent);
		--variant-border: var(--custom-border-color, transparent);
	}

	// Apply variant colors
	.ria-modal {
		background-color: var(--variant-bg);
		border-color: var(--variant-border);
	}
}


/* Color Variants */
.wp-block-ria-modal {
	/* Variant: Primary */
	&.has-primary-variant {
		background-color: var(--color-primary-100);
		color: var(--color-primary-900);
		border-color: var(--color-primary-300);

		a {
			color: var(--color-primary-700);
		}
	}

	/* Variant: Secondary */
	&.has-secondary-variant {
		background-color: var(--color-secondary-100);
		color: var(--color-secondary-900);
		border-color: var(--color-secondary-300);

		a {
			color: var(--color-secondary-700);
		}
	}

	/* Variant: Accent */
	&.has-accent-variant {
		background-color: var(--color-accent-100);
		color: var(--color-accent-900);
		border-color: var(--color-accent-300);

		a {
			color: var(--color-accent-700);
		}
	}

	/* Variant: Neutral */
	&.has-neutral-variant {
		background-color: var(--color-neutral-100);
		color: var(--color-neutral-900);
		border-color: var(--color-neutral-300);

		a {
			color: var(--color-neutral-700);
		}
	}

	/* Custom colors via inline styles */
	&.has-custom-colors {
		/* Inline styles will override */
	}
}
